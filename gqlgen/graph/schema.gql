# GraphQL schema example
#
# https://gqlgen.com/getting-started/

type TerminalCommand {
  command: String
}

type TerminalCommandSet {
  commands: [TerminalCommand]
}

type TerminalOutput {
  output: String
}

union TerminalElement = TerminalCommand | TerminalCommandSet | TerminalOutput

type TerminalNode {
  index: Int
  content: TerminalElement
}

type Terminal {
  name: String
  currentDirectory: [String]
  nodes: [TerminalNode]
}

type FileHighlight {
  fromLine: Int
  toLine: Int
}

type OpenFile {
  filePath: [String]
  fileName: String
  content: String
  isFullContent: Boolean
  language: String
  highlight: [FileHighlight]
}

type FileNode {
  filePath: [String]
  isUpdated: Boolean
}

type DirectoryNode {
  filePath: [String]
  isUpdated: Boolean
}

union FileTreeNode = FileNode | DirectoryNode

type SourceCode {
  fileTree: [FileTreeNode]
  openFile: OpenFile
}

type Step {
  stepNum: Int
  sourceCode: SourceCode
  terminalis: [Terminal]
  nextAction: String
  file(filePath: [String]!): OpenFile
}

##
type Query {
  step(stepNum: Int!): Step
  terminal(step: Int!): Terminal
}
